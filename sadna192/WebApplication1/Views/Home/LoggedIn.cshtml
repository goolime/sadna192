@using sadna192

@{
    ViewData["Title"] = "LoggedIn";
}

<!DOCTYPE html>
<html>
<head>
</head>
<body>
    <h2>My Page</h2>

    @if (ViewData["state"].ToString() == "admin")
    {
        <form action="/Home/RemoveUserForm" method="post">
            <font color="black">Username: </font>
            <input type="text" name="name" title="user name" />
            <input type="submit" value="Remove" />
        </form>
    }
    <button onclick="show_open_store_form()" id="AddStoresButton">Add Store</button>
    <div id="addStoreDiv" name="openstorediv" style="visibility: visible;">
        @if (ViewData["storeerr"] != null && (bool)ViewData["storeerr"])
        {
            <font color="red">could not add store</font>
        }
        <form action="/Home/OpenStoreForm" method="post">
            <font color="black">Open Store: </font>
            <input type="text" name="storeName" title="storeName" />
            <input type="submit"/>
        </form>
    </div>

    <script>
        function show_open_store_form() {
            var isHidden = document.getElementById("addStoreDiv").style.visibility === "hidden";
            document.getElementById("addStoreDiv").style.visibility = isHidden ? "visible" : "hidden";
            document.getElementById("AddStoresButton").innerHTML = isHidden ? "Hide" : "Add Store";

        }
    </script>

    <!-- 
        dictionery keys
        
        store -> object Store
        isManager -> bool
        permision_add -> bool
        permision_remove -> bool
        permision_update -> bool

    -->
    @foreach (Dictionary<string,dynamic> o in (List<Dictionary<string, dynamic>>)ViewData["Owner"])
    {
        <h3>@(((Store)o["store"]).getName())</h3>
    }
</body>
</html>



